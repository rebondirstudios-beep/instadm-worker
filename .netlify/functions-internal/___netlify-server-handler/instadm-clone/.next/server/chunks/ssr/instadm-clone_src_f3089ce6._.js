module.exports=[20470,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/instadm-clone/src/components/AutomationLiveStatsCard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/instadm-clone/src/components/AutomationLiveStatsCard.tsx <module evaluation>","default")},94270,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/instadm-clone/src/components/AutomationLiveStatsCard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/instadm-clone/src/components/AutomationLiveStatsCard.tsx","default")},41817,a=>{"use strict";a.i(20470);var b=a.i(94270);a.n(b)},11372,a=>{"use strict";var b=a.i(7997);a.i(48917);var c=a.i(38580),d=a.i(24202),e=a.i(75582),f=a.i(63365);let g=new(a.i(78500)).AsyncLocalStorage;var h=a.i(54772);let i=async()=>{var a,b;let i;try{let a=await (0,d.buildRequestLike)(),b=(0,f.getHeader)(a,c.constants.Headers.ClerkRequestData);i=(0,h.decryptClerkRequestData)(b)}catch(a){if(a&&(0,d.isPrerenderingBailout)(a))throw a}let j=null!=(b=null==(a=g.getStore())?void 0:a.get("requestData"))?b:i;return(null==j?void 0:j.secretKey)||(null==j?void 0:j.publishableKey)?(0,e.createClerkClientWithOptions)(j):(0,e.createClerkClientWithOptions)({})};var j=a.i(5072);async function k(b){a.r(55781);let{userId:c}=await (0,j.auth)({treatPendingAsSignedOut:null==b?void 0:b.treatPendingAsSignedOut});return c?(await i()).users.getUser(c):null}a.i(70396);var l=a.i(73727),m=a.i(71348),n=a.i(1269);let o=(0,n.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),p=(0,n.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),q=(0,n.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),r=(0,n.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),s=(0,n.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),t=(0,n.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),u=(0,n.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),v=(0,n.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),w=(0,n.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var x=a.i(95936);let y=null;try{y=a.r(63021).PrismaClient}catch{y=null}let z=globalThis.prisma??(y?new y:null);async function A(a){if(!z)throw Error("Database is not initialized. Create .env.local from .env.example and run: npx prisma db push");let b=a?.id,c=a?.emailAddresses?.[0]?.emailAddress??"";if(!b)throw Error("Missing Clerk user id");return await z.user.upsert({where:{clerkId:b},update:{email:c},create:{clerkId:b,email:c}})}var B=a.i(41817);async function C(){let a,c=await k();c||(0,l.redirect)("/login");let d=await A(c),[e,f,g,h,i,j,n,y,C]=await Promise.all([z.campaign.count({where:{userId:d.id}}),z.campaign.count({where:{userId:d.id,status:"active"}}),z.instagramAccount.count({where:{userId:d.id}}),z.instagramAccount.count({where:{userId:d.id,isActive:!0}}),z.message.count({where:{campaign:{userId:d.id}}}),z.message.count({where:{campaign:{userId:d.id},status:"sent"}}),z.message.findMany({where:{campaign:{userId:d.id},createdAt:{gte:((a=new Date).setHours(0,0,0,0),a)}},select:{recipientUsername:!0}}),z.campaign.findMany({where:{userId:d.id},select:{settings:!0}}),z.campaign.findMany({where:{userId:d.id},orderBy:{createdAt:"desc"},take:5,select:{id:!0,name:!0,status:!0,createdAt:!0}})]),D=i>0?Math.round(j/i*100):0,E=new Set;for(let a of y){let b=a?.settings?.leadUsernames;if(Array.isArray(b))for(let a of b){let b=String(a||"").trim();b&&E.add(b.startsWith("@")?b.slice(1).toLowerCase():b.toLowerCase())}}let F=new Set;for(let a of n){let b=String(a.recipientUsername||"").trim();b&&F.add(b.startsWith("@")?b.slice(1).toLowerCase():b.toLowerCase())}let G={totalCampaigns:e,activeCampaigns:f,totalMessages:j,sentMessages:j,successRate:D,totalAccounts:g,activeAccounts:h,totalLeads:E.size,newLeadsToday:F.size},H=await Promise.all(C.map(async a=>{let[b,c]=await Promise.all([z.message.count({where:{campaignId:a.id}}),z.message.count({where:{campaignId:a.id,status:"sent"}})]);return{id:a.id,name:a.name,status:a.status,messagesSent:c,successRate:b>0?Math.round(c/b*100):0,createdAt:a.createdAt.toISOString()}}));return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("nav",{className:"bg-white border-b border-gray-200",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(x.default,{href:"/",className:"flex items-center space-x-2",children:[(0,b.jsx)(m.MessageSquare,{className:"h-8 w-8 text-purple-600"}),(0,b.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"Rebondir Studios"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,b.jsx)(x.default,{href:"/dashboard",className:"text-purple-600 font-medium",children:"Dashboard"}),(0,b.jsx)(x.default,{href:"/campaigns",className:"text-gray-600 hover:text-gray-900",children:"Campaigns"}),(0,b.jsx)(x.default,{href:"/accounts",className:"text-gray-600 hover:text-gray-900",children:"Accounts"}),(0,b.jsx)(x.default,{href:"/templates",className:"text-gray-600 hover:text-gray-900",children:"Templates"}),(0,b.jsx)(x.default,{href:"/leads",className:"text-gray-600 hover:text-gray-900",children:"Leads"}),(0,b.jsx)(x.default,{href:"/automation",className:"text-gray-600 hover:text-gray-900",children:"Automation"}),(0,b.jsx)(x.default,{href:"/analytics",className:"text-gray-600 hover:text-gray-900",children:"Analytics"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:c.firstName?.[0]||c.emailAddresses[0]?.emailAddress[0]?.toUpperCase()}),(0,b.jsx)("span",{className:"text-gray-700",children:c.firstName||c.emailAddresses[0]?.emailAddress})]})]})]})})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",c.firstName||"User","!"]}),(0,b.jsx)("p",{className:"text-gray-600",children:"Here's what's happening with your Instagram outreach today."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,b.jsxs)(x.default,{href:"/campaigns/new",className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:scale-105 group",children:[(0,b.jsx)(r,{className:"h-8 w-8 mb-3 group-hover:rotate-90 transition-transform duration-200"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-1",children:"New Campaign"}),(0,b.jsx)("p",{className:"text-purple-100 text-sm",children:"Create outreach campaign"})]}),(0,b.jsxs)(x.default,{href:"/leads/discover",className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:scale-105 group",children:[(0,b.jsx)(u,{className:"h-8 w-8 mb-3 group-hover:scale-110 transition-transform duration-200"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-1",children:"Discover Leads"}),(0,b.jsx)("p",{className:"text-blue-100 text-sm",children:"Find new prospects"})]}),(0,b.jsxs)(x.default,{href:"/campaigns",className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:scale-105 group",children:[(0,b.jsx)(s,{className:"h-8 w-8 mb-3 group-hover:animate-pulse"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-1",children:"Active Campaigns"}),(0,b.jsx)("p",{className:"text-green-100 text-sm",children:"Manage outreach"})]}),(0,b.jsxs)(x.default,{href:"/accounts",className:"bg-gradient-to-r from-orange-600 to-orange-700 text-white p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:scale-105 group",children:[(0,b.jsx)(o,{className:"h-8 w-8 mb-3 group-hover:scale-110 transition-transform duration-200"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-1",children:"Accounts"}),(0,b.jsx)("p",{className:"text-orange-100 text-sm",children:"Manage IG accounts"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(q,{className:"h-8 w-8 text-purple-600"}),(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Live"})]})]}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:G.totalMessages.toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Messages Sent"}),(0,b.jsxs)("div",{className:"mt-2 text-xs text-green-600",children:["+",G.newLeadsToday," today"]})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(p,{className:"h-8 w-8 text-green-600"}),(0,b.jsxs)("span",{className:"text-xs text-gray-500 font-medium",children:[G.successRate,"%"]})]}),(0,b.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:[G.successRate,"%"]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Success Rate"}),(0,b.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Last 30 days"})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(o,{className:"h-8 w-8 text-blue-600"}),(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-xs text-green-600 font-medium",children:G.activeAccounts})]})]}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:G.totalLeads.toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Leads"}),(0,b.jsx)("div",{className:"mt-2 text-xs text-blue-600",children:"In database"})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(v,{className:"h-8 w-8 text-orange-600"}),(0,b.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:G.activeCampaigns})]}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:G.activeCampaigns}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Active Campaigns"}),(0,b.jsx)("div",{className:"mt-2 text-xs text-orange-600",children:"Running now"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,b.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,b.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,b.jsx)(t,{className:"h-5 w-5 text-purple-600"}),(0,b.jsx)("span",{children:"Recent Campaigns"})]})}),(0,b.jsx)("div",{className:"p-6",children:0===H.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(w,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-500",children:"No campaigns yet"}),(0,b.jsxs)(x.default,{href:"/campaigns/new",className:"inline-flex items-center space-x-2 text-purple-600 hover:text-purple-700 mt-3",children:[(0,b.jsx)(r,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Create your first campaign"})]})]}):(0,b.jsx)("div",{className:"space-y-4",children:H.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.messagesSent," messages sent • ",a.successRate,"% success"]})]}),(0,b.jsx)(x.default,{href:`/campaigns/${a.id}`,className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View →"})]},a.id))})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,b.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,b.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,b.jsx)(s,{className:"h-5 w-5 text-purple-600"}),(0,b.jsx)("span",{children:"Today's Activity"})]})}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"New Leads Today"}),(0,b.jsx)("span",{className:"text-lg font-semibold text-purple-600",children:G.newLeadsToday})]})}),(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Automation (Live)"}),(0,b.jsx)(B.default,{})]}),0===G.newLeadsToday&&(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"No activity today yet"}),(0,b.jsx)("p",{className:"text-gray-400 text-xs mt-2",children:"Start a campaign to see updates here"})]})]})]}),(0,b.jsxs)(x.default,{href:"/accounts/new",className:"bg-white p-6 rounded-xl border border-gray-200 hover:bg-gray-50 transition-colors flex items-center space-x-4",children:[(0,b.jsx)(o,{className:"h-8 w-8 text-purple-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"Add Account"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Connect Instagram account"})]})]}),(0,b.jsxs)(x.default,{href:"/templates/new",className:"bg-white p-6 rounded-xl border border-gray-200 hover:bg-gray-50 transition-colors flex items-center space-x-4",children:[(0,b.jsx)(m.MessageSquare,{className:"h-8 w-8 text-purple-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"Create Template"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Design message template"})]})]})]})]})]})}a.s(["default",()=>C],11372)}];

//# sourceMappingURL=instadm-clone_src_f3089ce6._.js.map