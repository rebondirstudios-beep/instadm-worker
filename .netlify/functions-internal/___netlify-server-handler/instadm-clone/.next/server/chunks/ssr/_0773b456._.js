module.exports=[63588,70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106);let h=g("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>h],63588)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},5151,a=>{"use strict";let b=(0,a.i(70106).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],5151)},82484,a=>{"use strict";var b=a.i(87924),c=a.i(98003),d=a.i(50944),e=a.i(38246),f=a.i(72131),g=a.i(210),h=a.i(63588),i=a.i(87532),j=a.i(5151),k=a.i(15618);function l(){let a=(0,d.useRouter)(),{user:l,isLoaded:m}=(0,c.useUser)();(0,f.useEffect)(()=>{m&&!l&&a.push("/login")},[m,a,l]);let[n,o]=(0,f.useState)(""),[p,q]=(0,f.useState)(20),[r,s]=(0,f.useState)(!1),[t,u]=(0,f.useState)([]),[v,w]=(0,f.useState)(""),[x,y]=(0,f.useState)(""),[z,A]=(0,f.useState)(!1),[B,C]=(0,f.useState)(!1),[D,E]=(0,f.useState)(""),[F,G]=(0,f.useState)(!1),H=(0,f.useMemo)(()=>t.join("\n"),[t]),I=async a=>{try{await navigator.clipboard.writeText(a),window.alert("Copied to clipboard")}catch{window.alert("Copy failed")}},J=async()=>{let a=t.map(a=>`@${a}`).join("\n");try{await navigator.clipboard.writeText(a),window.alert("Copied for Google Sheets (paste into a column)")}catch{window.alert("Copy failed")}},K=async()=>{let a=n.trim();if(a){s(!0);try{let b=await fetch("/api/perplexity/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a,maxResults:p})}),c=await b.json().catch(()=>({}));if(!b.ok)throw Error(c?.error||`Search failed (HTTP ${b.status})`);u(Array.isArray(c?.usernames)?c.usernames:[]),w("string"==typeof c?.raw?c.raw:""),y("string"==typeof c?.warning?c.warning:"")}catch(a){window.alert(a?.message||"Search failed")}finally{s(!1)}}},L=async()=>{if(t.length){A(!0);try{let a=await fetch("/api/perplexity/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initialUsernames:t,verify:!0,maxResults:p})}),b=await a.json().catch(()=>({}));if(!a.ok)throw Error(b?.error||`Verification failed (HTTP ${a.status})`);let c=Array.isArray(b?.usernames)?b.usernames:[];u(c),y("string"==typeof b?.warning?b.warning:""),window.alert(`Verification complete. ${c.length} of ${t.length} usernames are valid.`)}catch(a){window.alert(a?.message||"Verification failed")}finally{A(!1)}}},M=async()=>{let a=D.trim();if(!a)return void window.alert("List name is required");if(!t.length)return void window.alert("No usernames to save");C(!0);try{let b=await fetch("/api/lead-lists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,usernames:t})}),c=await b.json().catch(()=>({}));if(!b.ok)throw Error(c?.error||`Save failed (HTTP ${b.status})`);window.alert(`Saved list "${a}"`),E(""),G(!1)}catch(c){let b=JSON.parse(localStorage.getItem("leadLists")||"[]");b.find(b=>b.name===a)?window.alert("A list with this name already exists (saved locally)"):(b.push({id:Date.now().toString(),name:a,usernames:t,createdAt:new Date().toISOString()}),localStorage.setItem("leadLists",JSON.stringify(b)),window.alert(`Saved list "${a}" locally (server error: ${c?.message})`),E(""),G(!1))}finally{C(!1)}};return m&&l?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("nav",{className:"bg-white border-b border-gray-200",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(e.default,{href:"/",className:"flex items-center space-x-2",children:[(0,b.jsx)(h.MessageSquare,{className:"h-8 w-8 text-purple-600"}),(0,b.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"Rebondir Studios"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,b.jsx)(e.default,{href:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:"Dashboard"}),(0,b.jsx)(e.default,{href:"/campaigns",className:"text-gray-600 hover:text-gray-900",children:"Campaigns"}),(0,b.jsx)(e.default,{href:"/accounts",className:"text-gray-600 hover:text-gray-900",children:"Accounts"}),(0,b.jsx)(e.default,{href:"/templates",className:"text-gray-600 hover:text-gray-900",children:"Templates"}),(0,b.jsx)(e.default,{href:"/leads",className:"text-purple-600 font-medium",children:"Leads"}),(0,b.jsx)(e.default,{href:"/analytics",className:"text-gray-600 hover:text-gray-900",children:"Analytics"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:l.firstName?.[0]||l.emailAddresses[0]?.emailAddress[0]?.toUpperCase()}),(0,b.jsx)("span",{className:"text-gray-700",children:l.firstName||l.emailAddresses[0]?.emailAddress})]})]})]})})}),(0,b.jsxs)("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)(e.default,{href:"/leads",className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[(0,b.jsx)(g.ArrowLeft,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Back to Leads"})]}),(0,b.jsxs)(e.default,{href:"/campaigns/new",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[(0,b.jsx)(k.Plus,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Create Campaign"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Discover Leads (AI)"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Describe your ideal leads and get a list of Instagram usernames."}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-3",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search prompt"}),(0,b.jsx)("textarea",{rows:4,value:n,onChange:a=>o(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g. Instagram usernames of architects in Bangalore (usernames only)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max results"}),(0,b.jsx)("input",{type:"number",min:1,max:100,value:p,onChange:a=>q(Math.max(1,Math.min(100,Number(a.target.value)||20))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),(0,b.jsxs)("button",{type:"button",onClick:K,disabled:r||!n.trim(),className:"mt-4 w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[(0,b.jsx)(i.Search,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:r?"Searching...":"Find Usernames"})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Usernames"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)("button",{type:"button",onClick:L,disabled:z||0===t.length,className:"text-purple-600 hover:text-purple-900 text-sm flex items-center space-x-2 disabled:opacity-50",children:[(0,b.jsx)(i.Search,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:z?"Verifying...":"Verify"})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>G(!0),disabled:0===t.length,className:"text-purple-600 hover:text-purple-900 text-sm flex items-center space-x-2 disabled:opacity-50",children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Save to List"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)("button",{type:"button",onClick:J,disabled:0===t.length,className:"text-purple-600 hover:text-purple-900 text-sm flex items-center space-x-2 disabled:opacity-50",children:[(0,b.jsx)(j.Copy,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Copy to Google Sheets"})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>I(H),className:"text-purple-600 hover:text-purple-900 text-sm flex items-center space-x-2",disabled:0===t.length,children:[(0,b.jsx)(j.Copy,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Copy all"})]})]})]})]}),(0,b.jsx)("textarea",{rows:12,readOnly:!0,value:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",placeholder:"Usernames will appear here"}),x?(0,b.jsx)("p",{className:"text-xs text-amber-700 mt-2",children:x}):null,(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:'Tip: paste this into a Campaign\'s "Brand usernames" box, then Save â†’ Queue.'})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Raw output"}),(0,b.jsxs)("button",{type:"button",onClick:()=>I(v),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center space-x-2",disabled:!v,children:[(0,b.jsx)(j.Copy,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Copy"})]})]}),(0,b.jsx)("textarea",{rows:12,readOnly:!0,value:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",placeholder:"Perplexity response will appear here"})]})]})]})]}),F&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Save to List"}),(0,b.jsx)("input",{type:"text",value:D,onChange:a=>E(a.target.value),placeholder:"List name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-4"}),(0,b.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>G(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{type:"button",onClick:M,disabled:B||!D.trim(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:B?"Saving...":"Save"})]})]})})]}):null}a.s(["default",()=>l])}];

//# sourceMappingURL=_0773b456._.js.map